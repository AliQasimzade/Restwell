{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { BaseStyle, useTheme } from '@config';\nimport { Header, SafeAreaView, Icon, Button, TextInput } from '@components';\nimport styles from \"./styles\";\nimport * as api from '@api';\nimport { useTranslation } from 'react-i18next';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignUp(_ref) {\n  var navigation = _ref.navigation;\n  var _useTheme = useTheme(),\n    colors = _useTheme.colors;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var offsetKeyboard = Platform.select({\n    ios: 0,\n    android: 20\n  });\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var _useState9 = useState({\n      username: true,\n      email: true,\n      password: true\n    }),\n    _useState10 = _slicedToArray(_useState9, 2),\n    success = _useState10[0],\n    setSuccess = _useState10[1];\n  var onSignUp = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (username == '' || email == '' || password == '') {\n        setSuccess(_objectSpread(_objectSpread({}, success), {}, {\n          username: username != '' ? true : false,\n          email: email != '' ? true : false,\n          password: password != '' ? true : false\n        }));\n      } else {\n        setLoading(true);\n        try {\n          var params = {\n            username: username,\n            password: password,\n            email: email\n          };\n          var response = yield api.signUp(params);\n          Alert.alert({\n            type: 'success',\n            title: t('sign_up'),\n            message: t('register_success'),\n            action: [{\n              onPress: function onPress() {\n                return navigation.goBack();\n              }\n            }]\n          });\n        } catch (error) {\n          var _error$data$code, _error$data;\n          Alert.alert({\n            title: t('sign_up'),\n            message: (_error$data$code = (_error$data = error.data) == null ? void 0 : _error$data.code) != null ? _error$data$code : error.message\n          });\n        }\n        setLoading(false);\n      }\n    });\n    return function onSignUp() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(Header, {\n      title: t('sign_up'),\n      renderLeft: function renderLeft() {\n        return _jsx(Icon, {\n          name: \"arrow-left\",\n          size: 20,\n          color: colors.primary,\n          enableRTL: true\n        });\n      },\n      onPressLeft: function onPressLeft() {\n        navigation.goBack();\n      }\n    }), _jsx(SafeAreaView, {\n      style: BaseStyle.safeAreaView,\n      edges: ['right', 'left'],\n      children: _jsx(KeyboardAvoidingView, {\n        behavior: Platform.OS === 'android' ? 'height' : 'padding',\n        keyboardVerticalOffset: offsetKeyboard,\n        style: {\n          flex: 1\n        },\n        children: _jsxs(View, {\n          style: styles.contain,\n          children: [_jsx(TextInput, {\n            onChangeText: function onChangeText(text) {\n              return setUsername(text);\n            },\n            placeholder: t('input_id'),\n            success: success.username,\n            value: username,\n            onFocus: function onFocus() {\n              setSuccess(_objectSpread(_objectSpread({}, success), {}, {\n                username: true\n              }));\n            }\n          }), _jsx(TextInput, {\n            style: {\n              marginTop: 10\n            },\n            onChangeText: function onChangeText(text) {\n              return setEmail(text);\n            },\n            placeholder: t('input_email'),\n            keyboardType: \"email-address\",\n            success: success.email,\n            value: email,\n            onFocus: function onFocus() {\n              setSuccess(_objectSpread(_objectSpread({}, success), {}, {\n                email: true\n              }));\n            }\n          }), _jsx(TextInput, {\n            style: {\n              marginTop: 10\n            },\n            onChangeText: function onChangeText(text) {\n              return setPassword(text);\n            },\n            secureTextEntry: true,\n            placeholder: t('input_password'),\n            success: success.password,\n            value: password,\n            onFocus: function onFocus() {\n              setSuccess(_objectSpread(_objectSpread({}, success), {}, {\n                password: true\n              }));\n            }\n          }), _jsx(Button, {\n            full: true,\n            style: {\n              marginTop: 20\n            },\n            loading: loading,\n            onPress: function onPress() {\n              return onSignUp();\n            },\n            children: t('sign_up')\n          })]\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","KeyboardAvoidingView","Platform","Alert","BaseStyle","useTheme","Header","SafeAreaView","Icon","Button","TextInput","styles","api","useTranslation","jsx","_jsx","jsxs","_jsxs","SignUp","_ref","navigation","_useTheme","colors","_useTranslation","t","offsetKeyboard","select","ios","android","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","loading","setLoading","_useState9","_useState10","success","setSuccess","onSignUp","_ref2","_asyncToGenerator","_objectSpread","params","response","signUp","alert","type","title","message","action","onPress","goBack","error","_error$data$code","_error$data","data","code","apply","arguments","style","flex","children","renderLeft","name","size","color","primary","enableRTL","onPressLeft","safeAreaView","edges","behavior","OS","keyboardVerticalOffset","contain","onChangeText","text","placeholder","value","onFocus","marginTop","keyboardType","secureTextEntry","full"],"sources":["C:/Users/HP/Desktop/restwellteze2/app/screens/SignUp/index.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {View, KeyboardAvoidingView, Platform, Alert} from 'react-native';\r\nimport {BaseStyle, useTheme} from '@config';\r\nimport {Header, SafeAreaView, Icon, Button, TextInput} from '@components';\r\nimport styles from './styles';\r\nimport * as api from '@api';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nexport default function SignUp({navigation}) {\r\n  const {colors} = useTheme();\r\n  const {t} = useTranslation();\r\n  const offsetKeyboard = Platform.select({\r\n    ios: 0,\r\n    android: 20,\r\n  });\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState({\r\n    username: true,\r\n    email: true,\r\n    password: true,\r\n  });\r\n\r\n  /**\r\n   * call when action signup\r\n   *\r\n   */\r\n  const onSignUp = async () => {\r\n    if (username == '' || email == '' || password == '') {\r\n      setSuccess({\r\n        ...success,\r\n        username: username != '' ? true : false,\r\n        email: email != '' ? true : false,\r\n        password: password != '' ? true : false,\r\n      });\r\n    } else {\r\n      setLoading(true);\r\n      try {\r\n        const params = {\r\n          username,\r\n          password,\r\n          email,\r\n        };\r\n        const response = await api.signUp(params);\r\n        Alert.alert({\r\n          type: 'success',\r\n          title: t('sign_up'),\r\n          message: t('register_success'),\r\n          action: [{onPress: () => navigation.goBack()}],\r\n        });\r\n      } catch (error) {\r\n        Alert.alert({\r\n          title: t('sign_up'),\r\n          message: error.data?.code ?? error.message,\r\n        });\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={{flex: 1}}>\r\n      <Header\r\n        title={t('sign_up')}\r\n        renderLeft={() => {\r\n          return (\r\n            <Icon\r\n              name=\"arrow-left\"\r\n              size={20}\r\n              color={colors.primary}\r\n              enableRTL={true}\r\n            />\r\n          );\r\n        }}\r\n        onPressLeft={() => {\r\n          navigation.goBack();\r\n        }}\r\n      />\r\n      <SafeAreaView style={BaseStyle.safeAreaView} edges={['right', 'left']}>\r\n        <KeyboardAvoidingView\r\n          behavior={Platform.OS === 'android' ? 'height' : 'padding'}\r\n          keyboardVerticalOffset={offsetKeyboard}\r\n          style={{flex: 1}}>\r\n          <View style={styles.contain}>\r\n            <TextInput\r\n              onChangeText={text => setUsername(text)}\r\n              placeholder={t('input_id')}\r\n              success={success.username}\r\n              value={username}\r\n              onFocus={() => {\r\n                setSuccess({\r\n                  ...success,\r\n                  username: true,\r\n                });\r\n              }}\r\n            />\r\n            <TextInput\r\n              style={{marginTop: 10}}\r\n              onChangeText={text => setEmail(text)}\r\n              placeholder={t('input_email')}\r\n              keyboardType=\"email-address\"\r\n              success={success.email}\r\n              value={email}\r\n              onFocus={() => {\r\n                setSuccess({\r\n                  ...success,\r\n                  email: true,\r\n                });\r\n              }}\r\n            />\r\n            <TextInput\r\n              style={{marginTop: 10}}\r\n              onChangeText={text => setPassword(text)}\r\n              secureTextEntry={true}\r\n              placeholder={t('input_password')}\r\n              success={success.password}\r\n              value={password}\r\n              onFocus={() => {\r\n                setSuccess({\r\n                  ...success,\r\n                  password: true,\r\n                });\r\n              }}\r\n            />\r\n            <Button\r\n              full\r\n              style={{marginTop: 20}}\r\n              loading={loading}\r\n              onPress={() => onSignUp()}>\r\n              {t('sign_up')}\r\n            </Button>\r\n          </View>\r\n        </KeyboardAvoidingView>\r\n      </SafeAreaView>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}